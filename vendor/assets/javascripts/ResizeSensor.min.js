(function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.ResizeSensor=b()})("undefined"==typeof window?this:window,function(){function a(a,b){var c=Object.prototype.toString.call(a),d="[object Array]"===c||"[object NodeList]"===c||"[object HTMLCollection]"===c||"[object Object]"===c||"undefined"!=typeof jQuery&&a instanceof jQuery||"undefined"!=typeof Elements&&a instanceof Elements,e=0,f=a.length;if(d)for(;e<f;e++)b(a[e]);else b(a)}if("undefined"==typeof window)return null;var b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,20)},c=function(d,e){function f(){var a=[];this.add=function(b){a.push(b)};var b,c;this.call=function(){for(b=0,c=a.length;b<c;b++)a[b].call()},this.remove=function(d){var e=[];for(b=0,c=a.length;b<c;b++)a[b]!==d&&e.push(a[b]);a=e},this.length=function(){return a.length}}function g(a,c){if(a){if(a.resizedAttached)return void a.resizedAttached.add(c);a.resizedAttached=new f,a.resizedAttached.add(c),a.resizeSensor=document.createElement("div"),a.resizeSensor.className="resize-sensor";var d="position: absolute; left: 0; top: 0; transition: 0s;";a.resizeSensor.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",a.resizeSensor.innerHTML="<div class=\"resize-sensor-expand\" style=\"position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;\"><div style=\""+d+"\"></div></div><div class=\"resize-sensor-shrink\" style=\"position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;\"><div style=\""+d+" width: 200%; height: 200%\"></div></div>",a.appendChild(a.resizeSensor),a.resizeSensor.offsetParent!==a&&(a.style.position="relative");var e,g,h,i,j=a.resizeSensor.childNodes[0],k=j.childNodes[0],l=a.resizeSensor.childNodes[1],m=a.offsetWidth,n=a.offsetHeight,o=function(){k.style.width="100000px",k.style.height="100000px",j.scrollLeft=1e5,j.scrollTop=1e5,l.scrollLeft=1e5,l.scrollTop=1e5};o();var p=function(){g=0,e&&(m=h,n=i,a.resizedAttached&&a.resizedAttached.call())},q=function(){h=a.offsetWidth,i=a.offsetHeight,e=h!=m||i!=n,e&&!g&&(g=b(p)),o()},r=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c)};r(j,"scroll",q),r(l,"scroll",q)}}a(d,function(a){g(a,e)}),this.detach=function(a){c.detach(d,a)}};return c.detach=function(b,c){a(b,function(a){!a||a.resizedAttached&&"function"==typeof c&&(a.resizedAttached.remove(c),a.resizedAttached.length())||a.resizeSensor&&(a.contains(a.resizeSensor)&&a.removeChild(a.resizeSensor),delete a.resizeSensor,delete a.resizedAttached)})},c});